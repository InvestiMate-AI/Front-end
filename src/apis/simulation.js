import axios from "axios";
import { Post } from ".";

// 사용자 입력 데이터 기반 시뮬레이션 생성
/* 입력 데이터 예시 
data: [
]
*/
/* 요청 결과 데이터 예시
data: [
  {
    "stockRecordId": Number(999),
    "date": String("2024-01-01"),
    "name": String("삼성전자"),
    "volume": Number(101),
    "type": String("매도"),
  },
]
*/
export const fetchCustomSimulationResult = async (data) => {
  console.log(data);
  try {
    const res = await Post("/api/v1/simulations", data);
    console.log(res);
    return res.data.data;
  } catch (error) {
    if (axios.isAxiosError(error) && error.response) {
      console.log(error);
    }
    return [
      {
        index: 0,
        type: "chart_shares",
        data: '{"shares":{"1697414400000":0,"1697500800000":0,"1697587200000":0,"1697673600000":0,"1697760000000":0}}',
      },
      {
        index: 1,
        type: "chart_asset",
        data: '{"total_value":{"1697414400000":100000000,"1697500800000":100000000,"1697587200000":100000000,"1697673600000":100000000,"1697760000000":100000000},"cash":{"1697414400000":100000000,"1697500800000":100000000,"1697587200000":100000000,"1697673600000":100000000,"1697760000000":100000000}}',
      },
      {
        index: 2,
        type: "chart_returns",
        data: '{"returns":{"1697414400000":0.0,"1697500800000":0.0,"1697587200000":0.0,"1697673600000":0.0,"1697760000000":0.0},"holding_returns":{"1697414400000":0.0,"1697500800000":3.1203566122,"1697587200000":4.7548291233,"1697673600000":3.2689450223,"1697760000000":2.2288261516}}',
      },
      {
        index: 3,
        type: "chart_signals",
        data: '{"buy_pattern_0":{"1697414400000":null,"1697500800000":null,"1697587200000":null,"1697673600000":null,"1697760000000":null},"buy_pattern_1":{"1697414400000":null,"1697500800000":null,"1697587200000":null,"1697673600000":null,"1697760000000":null},"buy_pattern_2":{"1697414400000":null,"1697500800000":null,"1697587200000":null,"1697673600000":null,"1697760000000":null},"buy_pattern_3":{"1697414400000":null,"1697500800000":null,"1697587200000":null,"1697673600000":null,"1697760000000":null},"sell_pattern_0":{"1697414400000":null,"1697500800000":null,"1697587200000":null,"1697673600000":null,"1697760000000":null},"sell_pattern_1":{"1697414400000":null,"1697500800000":null,"1697587200000":null,"1697673600000":null,"1697760000000":null},"Close":{"1697414400000":67300,"1697500800000":69400,"1697587200000":70500,"1697673600000":69500,"1697760000000":68800}}',
      },
    ];
  }
};

export const fetchAutoSimulationResult = async (data) => {
  console.log(data);
  try {
    const res = await Post("/api/v1/simulations/2", data);
    console.log(res);
    return res.data.data;
  } catch (error) {
    if (axios.isAxiosError(error) && error.response) {
      console.log(error);
    }
    return [
      {
        index: 0,
        type: "chart_shares",
        data: '{"shares":{"1697414400000":0,"1697500800000":0,"1697587200000":0,"1697673600000":0,"1697760000000":0}}',
      },
      {
        index: 1,
        type: "chart_asset",
        data: '{"total_value":{"1697414400000":100000000,"1697500800000":100000000,"1697587200000":100000000,"1697673600000":100000000,"1697760000000":100000000},"cash":{"1697414400000":100000000,"1697500800000":100000000,"1697587200000":100000000,"1697673600000":100000000,"1697760000000":100000000}}',
      },
      {
        index: 2,
        type: "chart_returns",
        data: '{"returns":{"1697414400000":0.0,"1697500800000":0.0,"1697587200000":0.0,"1697673600000":0.0,"1697760000000":0.0},"holding_returns":{"1697414400000":0.0,"1697500800000":3.1203566122,"1697587200000":4.7548291233,"1697673600000":3.2689450223,"1697760000000":2.2288261516}}',
      },
      {
        index: 3,
        type: "chart_signals",
        data: '{"buy_pattern_0":{"1697414400000":null,"1697500800000":null,"1697587200000":null,"1697673600000":null,"1697760000000":null},"buy_pattern_1":{"1697414400000":null,"1697500800000":null,"1697587200000":null,"1697673600000":null,"1697760000000":null},"buy_pattern_2":{"1697414400000":null,"1697500800000":null,"1697587200000":null,"1697673600000":null,"1697760000000":null},"buy_pattern_3":{"1697414400000":null,"1697500800000":null,"1697587200000":null,"1697673600000":null,"1697760000000":null},"sell_pattern_0":{"1697414400000":null,"1697500800000":null,"1697587200000":null,"1697673600000":null,"1697760000000":null},"sell_pattern_1":{"1697414400000":null,"1697500800000":null,"1697587200000":null,"1697673600000":null,"1697760000000":null},"Close":{"1697414400000":67300,"1697500800000":69400,"1697587200000":70500,"1697673600000":69500,"1697760000000":68800}}',
      },
    ];
  }
};
